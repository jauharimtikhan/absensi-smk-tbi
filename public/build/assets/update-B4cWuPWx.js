import{r as i,v as h,j as a,m as f}from"./app-dtuUTQPg.js";import{B as m,j as x}from"./button-DPsmANRN.js";import{u as j}from"./useToast-EKkHiayz.js";import{A as v}from"./AuthenticatedLayout-BTyt3L7y.js";import{C as b,c as k,e as D}from"./card-BA0s0Gic.js";import{I as s}from"./InputForm-CxBnDjjR.js";import{L as o}from"./label-BDJwZ1Pj.js";import{S as n}from"./select2-BdmNQqEp.js";import{B as _}from"./button-form-Bq4WgXJU.js";import{T as C}from"./textarea-Baw5B1NY.js";import{A as N}from"./arrow-left-xOnyqO02.js";import{S}from"./settings-fe7O1VkA.js";import{S as y}from"./send-horizontal-C00ZQQA3.js";import"./input-Drfy3CFD.js";import"./separator-CjGCVm4I.js";import"./index-ChTBRd0w.js";import"./index-B4q1E3Zk.js";import"./index-BNtFQH6V.js";import"./index-Cm6O-f5t.js";import"./Combination-DH0SttvD.js";import"./index-DRbEqTca.js";import"./x-NVNAERGQ.js";import"./skeleton-lf6-BL-t.js";import"./theme-provider-CW9DNBW8.js";import"./index-DkKg-NQ3.js";import"./index-D3ZdPiCk.js";import"./index-DzJ2E_zn.js";import"./chevron-right-BPam7CGz.js";import"./dropdown-menu-ZSCFBwCD.js";import"./index-DG6lS1av.js";import"./index-BWkP8tIP.js";import"./check-CwIqQT0W.js";import"./ellipsis-vertical-Cv3G_kEX.js";import"./index-DbTheDnJ.js";import"./select-CHyngtyH.js";import"./index-BdQq_4o_.js";import"./index-BO5XnkvU.js";import"./chevron-down-WzJ1kcrw.js";import"./chevron-up-BoLhmJXO.js";import"./loader-circle-DUNaWJrS.js";function ga({alert:p,kelases:u,mapels:d,user:r}){j(p);const[c,l]=i.useState(!1),e=h({username:"",password:"",role:"",nama_guru:"",alamat:"",no_telp:"",kelas:[],mapels:[]}),g=t=>{t.preventDefault(),e.put(route("user.update",r.id))};return i.useEffect(()=>{r&&(e.setData("username",r.username),e.setData("role",r.role),l(r.role==="guru"),r.kelas&&e.setData("kelas",r.kelas.map(t=>t.id.toString())),r.mata_pelajarans&&e.setData("mapels",r.mata_pelajarans.map(t=>t.id.toString())),r.profile_guru&&(e.setData("nama_guru",r.profile_guru.nama_guru),e.setData("alamat",r.profile_guru.alamat),e.setData("no_telp",r.profile_guru.no_telp)))},[r]),a.jsxs(v,{title:"Update Pengguna",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Update Data Pengguna"}),a.jsxs(m,{type:"button",variant:"secondary",onClick:()=>f.get(route("user.index")),children:[a.jsx(N,{}),"Kembali"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("form",{onSubmit:g,children:a.jsxs(b,{children:[a.jsxs(k,{className:"space-y-4 mt-3",children:[a.jsx(s,{label:"Username",placeholder:"Masukan Username pengguna",value:e.data.username,onChange:t=>e.setData("username",t.target.value),error:e.errors.username}),a.jsx(s,{label:"Password",placeholder:"Biarkan kosong jika tidak ingin merubah password!",value:e.data.password,onChange:t=>e.setData("password",t.target.value),rightcontent:a.jsx(m,{size:"icon",type:"button",variant:"outline",onClick:()=>e.setData("password",x(6)),children:a.jsx(S,{})})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Role"}),a.jsx(n,{options:[{label:"Super Admin",value:"super-admin"},{label:"Guru",value:"guru"},{label:"BK",value:"bk"}],value:e.data.role,onChange:t=>{e.setData("role",t),l(t==="guru")},searchable:!1})]}),a.jsx(s,{label:"Nama Lengkap",value:e.data.nama_guru,placeholder:"Masukan Nama Lengkap",onChange:t=>e.setData("nama_guru",t.target.value)}),a.jsx(s,{label:"No Handphone",value:e.data.no_telp,type:"tel",placeholder:"Masukan No Handphone",onChange:t=>e.setData("no_telp",t.target.value)}),a.jsxs("div",{children:[a.jsx(o,{className:"mb-2",children:"Alamat Lengkap"}),a.jsx(C,{placeholder:"Nama Lengkap",defaultValue:e.data.alamat,onChange:t=>e.setData("alamat",t.target.value)})]}),c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Pilih Kelas Yang Akan Di Ampu"}),a.jsx(n,{options:u??[],value:e.data.kelas,onChange:t=>{e.setData("kelas",t)},multiple:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Pilih Mata Pelajaran Yang Akan Di Ampu"}),a.jsx(n,{options:d??[],value:e.data.mapels,onChange:t=>{e.setData("mapels",t)},multiple:!0})]})]})]}),a.jsx(D,{className:"flex justify-end",children:a.jsx(_,{label:"Submit",variant:"default",loading:e.processing,type:"submit",righticon:a.jsx(y,{})})})]})})})]})}export{ga as default};
