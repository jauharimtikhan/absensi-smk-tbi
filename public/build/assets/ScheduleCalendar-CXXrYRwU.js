import{r as v,j as e}from"./app-D-pvG-h7.js";import{C as N}from"./calendar-D4ED0JWK.js";import{C as x,a as h,b as j,c as p}from"./card-PWHeHM1M.js";import{i as o,P as w,a as C,b as y}from"./popover-BUplWetb.js";import{B as r}from"./button-DDrB44aA.js";import{C as E}from"./chevron-left-CODoTmto.js";import{C as M}from"./chevron-right-CvAe3Q1P.js";import{p as f,S as _}from"./parseISO-Btqs7Bpj.js";import{E as b}from"./ellipsis-vertical-Df7DsWCi.js";import{f as t}from"./format-BLGyKstx.js";import"./chevron-down-DT_wD1pv.js";import"./index-BCDtQqrj.js";import"./index-B_qB3y_n.js";import"./index-DPWi2SFl.js";import"./Combination-DkhTlgzF.js";import"./index-Cv54-QBM.js";import"./index-pc8TUt6X.js";import"./index-CbbB-d8s.js";const G=({schedules:m,onEdit:u})=>{console.log(m);const[i,l]=v.useState(new Date),d=s=>{const a=t(s,"EEEE",{locale:o});return m.filter(n=>n.hari.toLowerCase()===a.toLowerCase())},c=d(i);return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(x,{children:[e.jsxs(h,{className:"flex-row items-center justify-between",children:[e.jsx(j,{className:"text-lg",children:t(i,"MMMM yyyy",{locale:o})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"outline",size:"icon",onClick:()=>l(s=>{const a=new Date(s);return a.setMonth(a.getMonth()-1),a}),children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(r,{variant:"outline",onClick:()=>l(new Date),children:"Hari Ini"}),e.jsx(r,{variant:"outline",size:"icon",onClick:()=>l(s=>{const a=new Date(s);return a.setMonth(a.getMonth()+1),a}),children:e.jsx(M,{className:"h-4 w-4"})})]})]}),e.jsx(p,{children:e.jsx(N,{mode:"single",selected:i,onSelect:s=>s&&l(s),className:"rounded-md border",modifiers:{hasSchedules:s=>d(s).length>0},modifiersClassNames:{hasSchedules:"relative after:absolute after:bottom-1 after:left-1/2 after:-translate-x-1/2 after:w-1 after:h-1 after:rounded-full after:bg-primary"},locale:o})})]})}),e.jsx("div",{children:e.jsxs(x,{children:[e.jsx(h,{children:e.jsxs(j,{children:["Jadwal"," ",t(i,"EEEE, d MMMM yyyy",{locale:o})]})}),e.jsx(p,{children:c.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada jadwal untuk hari ini"}):e.jsx("div",{className:"space-y-4",children:c.map(s=>{var a,n;return e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.mata_pelajarans.nama_mapel,e.jsxs("span",{className:"text-muted-foreground text-sm ml-2",children:["(",s.mata_pelajarans.kode_mapel,")"]})]}),e.jsxs("div",{className:"text-sm mt-1",children:[t(f(`1970-01-01T${s.jam_mulai}`),"HH:mm")," ","-",t(f(`1970-01-01T${s.jam_selesai}`),"HH:mm")]}),e.jsx("div",{className:"text-sm mt-1",children:s.kelas.nama_kelas})]}),e.jsxs(w,{children:[e.jsx(C,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(b,{className:"h-4 w-4"})})}),e.jsx(y,{className:"w-48 p-2",children:e.jsxs(r,{variant:"ghost",className:"w-full justify-start",onClick:()=>u(s),children:[e.jsx(_,{className:"mr-2 h-4 w-4"})," ","Edit"]})})]})]}),e.jsxs("div",{className:"mt-3 flex items-center",children:[e.jsx("div",{className:"bg-gray-100 rounded-full w-8 h-8 flex items-center justify-center text-sm",children:(a=s.guru.profile_guru)==null?void 0:a.nama_guru.split(" ").map(g=>g[0]).join("")}),e.jsx("div",{className:"ml-2 text-sm",children:(n=s.guru.profile_guru)==null?void 0:n.nama_guru})]})]},s.id)})})})]})})]})};export{G as default};
