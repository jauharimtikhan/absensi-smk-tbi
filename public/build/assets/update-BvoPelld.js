import{r as i,v as h,j as a,m as f}from"./app-D-pvG-h7.js";import{B as m,j as x}from"./button-DDrB44aA.js";import{u as j}from"./useToast-CczIibfT.js";import{A as v}from"./AuthenticatedLayout-WKkpFzN6.js";import{C as b,c as k,e as D}from"./card-PWHeHM1M.js";import{I as s}from"./InputForm-DW44Byix.js";import{L as o}from"./label-B855B3UW.js";import{S as n}from"./select2-CLGfsiw0.js";import{B as _}from"./button-form-DPrc8m5f.js";import{T as C}from"./textarea-D5O-I6RY.js";import{A as N}from"./arrow-left-CaKg1H8K.js";import{S}from"./settings-Cb35TO4U.js";import{S as y}from"./send-horizontal-gLn-0zvu.js";import"./input-BqtjLy8Q.js";import"./separator-jC85Eame.js";import"./index-BCDtQqrj.js";import"./index-DfVJz2yI.js";import"./index-DPWi2SFl.js";import"./index-B_qB3y_n.js";import"./Combination-DkhTlgzF.js";import"./index-CbbB-d8s.js";import"./x-CbMpTP9X.js";import"./skeleton-ChprEDY9.js";import"./theme-provider-CJsZ6qwK.js";import"./index-Cv54-QBM.js";import"./index-pc8TUt6X.js";import"./index-j9pfCE30.js";import"./chevron-right-CvAe3Q1P.js";import"./dropdown-menu-BYgId_-S.js";import"./index-C4kcJLGa.js";import"./index-BsxPpjHb.js";import"./check-Dl2Q0njl.js";import"./ellipsis-vertical-Df7DsWCi.js";import"./index-DB_nWd7P.js";import"./select-DeUrfpU1.js";import"./index-BdQq_4o_.js";import"./index-DV9RjSlp.js";import"./chevron-down-DT_wD1pv.js";import"./chevron-up-DDtDRMKX.js";import"./loader-circle-DcNhUuUm.js";function ga({alert:p,kelases:u,mapels:d,user:r}){j(p);const[c,l]=i.useState(!1),e=h({username:"",password:"",role:"",nama_guru:"",alamat:"",no_telp:"",kelas:[],mapels:[]}),g=t=>{t.preventDefault(),e.put(route("user.update",r.id))};return i.useEffect(()=>{r&&(e.setData("username",r.username),e.setData("role",r.role),l(r.role==="guru"),r.kelas&&e.setData("kelas",r.kelas.map(t=>t.id.toString())),r.mata_pelajarans&&e.setData("mapels",r.mata_pelajarans.map(t=>t.id.toString())),r.profile_guru&&(e.setData("nama_guru",r.profile_guru.nama_guru),e.setData("alamat",r.profile_guru.alamat),e.setData("no_telp",r.profile_guru.no_telp)))},[r]),a.jsxs(v,{title:"Update Pengguna",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Update Data Pengguna"}),a.jsxs(m,{type:"button",variant:"secondary",onClick:()=>f.get(route("user.index")),children:[a.jsx(N,{}),"Kembali"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("form",{onSubmit:g,children:a.jsxs(b,{children:[a.jsxs(k,{className:"space-y-4 mt-3",children:[a.jsx(s,{label:"Username",placeholder:"Masukan Username pengguna",value:e.data.username,onChange:t=>e.setData("username",t.target.value),error:e.errors.username}),a.jsx(s,{label:"Password",placeholder:"Biarkan kosong jika tidak ingin merubah password!",value:e.data.password,onChange:t=>e.setData("password",t.target.value),rightcontent:a.jsx(m,{size:"icon",type:"button",variant:"outline",onClick:()=>e.setData("password",x(6)),children:a.jsx(S,{})})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Role"}),a.jsx(n,{options:[{label:"Super Admin",value:"super-admin"},{label:"Guru",value:"guru"},{label:"BK",value:"bk"}],value:e.data.role,onChange:t=>{e.setData("role",t),l(t==="guru")},searchable:!1})]}),a.jsx(s,{label:"Nama Lengkap",value:e.data.nama_guru,placeholder:"Masukan Nama Lengkap",onChange:t=>e.setData("nama_guru",t.target.value)}),a.jsx(s,{label:"No Handphone",value:e.data.no_telp,type:"tel",placeholder:"Masukan No Handphone",onChange:t=>e.setData("no_telp",t.target.value)}),a.jsxs("div",{children:[a.jsx(o,{className:"mb-2",children:"Alamat Lengkap"}),a.jsx(C,{placeholder:"Nama Lengkap",defaultValue:e.data.alamat,onChange:t=>e.setData("alamat",t.target.value)})]}),c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Pilih Kelas Yang Akan Di Ampu"}),a.jsx(n,{options:u??[],value:e.data.kelas,onChange:t=>{e.setData("kelas",t)},multiple:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Pilih Mata Pelajaran Yang Akan Di Ampu"}),a.jsx(n,{options:d??[],value:e.data.mapels,onChange:t=>{e.setData("mapels",t)},multiple:!0})]})]})]}),a.jsx(D,{className:"flex justify-end",children:a.jsx(_,{label:"Submit",variant:"default",loading:e.processing,type:"submit",righticon:a.jsx(y,{})})})]})})})]})}export{ga as default};
