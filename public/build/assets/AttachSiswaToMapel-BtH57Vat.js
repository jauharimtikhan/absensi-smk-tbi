import{r as t,v as w,j as a}from"./app-dtuUTQPg.js";import{C as x,a as S,b as j,c as g}from"./card-BA0s0Gic.js";import{S as n}from"./skeleton-lf6-BL-t.js";import C from"./SiswaTable-CJMp82RY.js";import"./button-DPsmANRN.js";import"./raw-table-BQu-4Mqz.js";import"./dropdown-menu-ZSCFBwCD.js";import"./index-ChTBRd0w.js";import"./index-DG6lS1av.js";import"./index-Cm6O-f5t.js";import"./index-BNtFQH6V.js";import"./Combination-DH0SttvD.js";import"./index-DkKg-NQ3.js";import"./index-D3ZdPiCk.js";import"./index-DRbEqTca.js";import"./index-BWkP8tIP.js";import"./chevron-right-BPam7CGz.js";import"./check-CwIqQT0W.js";import"./table-C01eE_yS.js";import"./chevron-left-KHE4TT5M.js";import"./checkbox-D_x_zbJ3.js";import"./index-BO5XnkvU.js";function Q({id_kelas:s,id_mapel:y,returnData:l}){const[i,p]=t.useState(),[d,c]=t.useState(!1),[u,f]=t.useState([]),{setData:m}=w({selected_siswa:[]}),o=t.useCallback(async(e=1)=>{if(s){c(!0);try{const r=await window.axios.get(route("absensi.search.siswa.raw"),{params:{kelas:s,page:e}});r.status===200&&p(r.data.data)}catch(r){console.error("Error fetching siswa data:",r)}finally{c(!1)}}},[s]),h=t.useCallback(e=>{f(e),m("selected_siswa",e),l(e)},[l,m]);return t.useEffect(()=>{s&&o()},[s,o]),a.jsxs(x,{children:[a.jsx(S,{children:a.jsx(j,{children:"Input Siswa ke Kelas dan Mata Pelajaran"})}),a.jsx(g,{children:d?a.jsxs("div",{className:"space-y-4",children:[a.jsx(n,{className:"h-12 w-full"}),a.jsx(n,{className:"h-12 w-full"}),a.jsx(n,{className:"h-12 w-full"})]}):i&&i.data.length>0?a.jsx(C,{dataSiswa:i,selectedSiswaIds:u,onSelectionChange:h,onPageChange:o}):a.jsx("div",{className:"text-center text-sm text-muted-foreground py-10",children:"Tidak ada data siswa yang ditemukan untuk kelas ini."})})]})}export{Q as default};
