import{r as i,v as h,j as a,m as f}from"./app-DI_7iOGi.js";import{B as m,j as x}from"./button-ouBvtTzt.js";import{u as j}from"./useToast-C-22vdO3.js";import{A as v}from"./AuthenticatedLayout-CJzY5Xrb.js";import{C as b,c as k,e as D}from"./card-CRDQ6-HN.js";import{I as s}from"./InputForm-P9JFgCwm.js";import{L as o}from"./label-C8nOiwIa.js";import{S as n}from"./select2-CLxBKvX1.js";import{B as _}from"./button-form-CVGmifLz.js";import{T as C}from"./textarea-1noSGsye.js";import{A as N}from"./arrow-left-DaKwZu_C.js";import{S}from"./settings-DWTeJ0c8.js";import{S as y}from"./send-horizontal-CHOo8Db2.js";import"./input-C3dI5ERP.js";import"./separator-DUHQMWeJ.js";import"./index-BGoB9TCs.js";import"./index-D9_RKr1o.js";import"./index-D7g85S3M.js";import"./index-ByiadMdx.js";import"./Combination-KH8HP5zT.js";import"./index-CwrRQkFr.js";import"./x-qbxLeAft.js";import"./skeleton-CxGvy62n.js";import"./theme-provider-BsdHpEmu.js";import"./index-Bh9eaD_H.js";import"./index-BlJ1_0NA.js";import"./index-1PqMr3ZH.js";import"./chevron-right-zboEp8pf.js";import"./dropdown-menu-CzyrIVSs.js";import"./index-D1FKjugl.js";import"./index-BE85i_lL.js";import"./check-5dKJEGSP.js";import"./ellipsis-vertical-Bfx82VKo.js";import"./index-DoI55BCK.js";import"./select-OucRZLGt.js";import"./index-BdQq_4o_.js";import"./index-DUUlX3oA.js";import"./chevron-down-BACfvzZf.js";import"./chevron-up-SZJPr3au.js";import"./loader-circle-BntIrtio.js";function ga({alert:p,kelases:u,mapels:d,user:r}){j(p);const[c,l]=i.useState(!1),e=h({username:"",password:"",role:"",nama_guru:"",alamat:"",no_telp:"",kelas:[],mapels:[]}),g=t=>{t.preventDefault(),e.put(route("user.update",r.id))};return i.useEffect(()=>{r&&(e.setData("username",r.username),e.setData("role",r.role),l(r.role==="guru"),r.kelas&&e.setData("kelas",r.kelas.map(t=>t.id.toString())),r.mata_pelajarans&&e.setData("mapels",r.mata_pelajarans.map(t=>t.id.toString())),r.profile_guru&&(e.setData("nama_guru",r.profile_guru.nama_guru),e.setData("alamat",r.profile_guru.alamat),e.setData("no_telp",r.profile_guru.no_telp)))},[r]),a.jsxs(v,{title:"Update Pengguna",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Update Data Pengguna"}),a.jsxs(m,{type:"button",variant:"secondary",onClick:()=>f.get(route("user.index")),children:[a.jsx(N,{}),"Kembali"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("form",{onSubmit:g,children:a.jsxs(b,{children:[a.jsxs(k,{className:"space-y-4 mt-3",children:[a.jsx(s,{label:"Username",placeholder:"Masukan Username pengguna",value:e.data.username,onChange:t=>e.setData("username",t.target.value),error:e.errors.username}),a.jsx(s,{label:"Password",placeholder:"Biarkan kosong jika tidak ingin merubah password!",value:e.data.password,onChange:t=>e.setData("password",t.target.value),rightcontent:a.jsx(m,{size:"icon",type:"button",variant:"outline",onClick:()=>e.setData("password",x(6)),children:a.jsx(S,{})})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Role"}),a.jsx(n,{options:[{label:"Super Admin",value:"super-admin"},{label:"Guru",value:"guru"},{label:"BK",value:"bk"}],value:e.data.role,onChange:t=>{e.setData("role",t),l(t==="guru")},searchable:!1})]}),a.jsx(s,{label:"Nama Lengkap",value:e.data.nama_guru,placeholder:"Masukan Nama Lengkap",onChange:t=>e.setData("nama_guru",t.target.value)}),a.jsx(s,{label:"No Handphone",value:e.data.no_telp,type:"tel",placeholder:"Masukan No Handphone",onChange:t=>e.setData("no_telp",t.target.value)}),a.jsxs("div",{children:[a.jsx(o,{className:"mb-2",children:"Alamat Lengkap"}),a.jsx(C,{placeholder:"Nama Lengkap",defaultValue:e.data.alamat,onChange:t=>e.setData("alamat",t.target.value)})]}),c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Pilih Kelas Yang Akan Di Ampu"}),a.jsx(n,{options:u??[],value:e.data.kelas,onChange:t=>{e.setData("kelas",t)},multiple:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Pilih Mata Pelajaran Yang Akan Di Ampu"}),a.jsx(n,{options:d??[],value:e.data.mapels,onChange:t=>{e.setData("mapels",t)},multiple:!0})]})]})]}),a.jsx(D,{className:"flex justify-end",children:a.jsx(_,{label:"Submit",variant:"default",loading:e.processing,type:"submit",righticon:a.jsx(y,{})})})]})})})]})}export{ga as default};
