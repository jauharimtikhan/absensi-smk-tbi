import{r as i,v as h,j as a,m as f}from"./app-DNlvD2hl.js";import{B as m,j as x}from"./button-pRR0JN0m.js";import{u as j}from"./useToast-B4HZcoJN.js";import{A as v}from"./AuthenticatedLayout-DDckgGph.js";import{C as b,c as k,e as D}from"./card-7vLESoGk.js";import{I as s}from"./InputForm-NTeU3jAi.js";import{L as o}from"./label-BNIqFXP3.js";import{S as n}from"./select2-B4CUrvok.js";import{B as _}from"./button-form-Bq9bilbm.js";import{T as C}from"./textarea-L0j0DPEu.js";import{A as N}from"./arrow-left-BqrzJemt.js";import{S}from"./settings-DG21eLF8.js";import{S as y}from"./send-horizontal-MSs1RMNT.js";import"./input-fnWIm-cp.js";import"./separator-DlVUVnwd.js";import"./index-C0NtTPSZ.js";import"./index-DhjLiN37.js";import"./index-C9shgPgY.js";import"./index-DegsW5sq.js";import"./Combination-Cp1c0ah-.js";import"./index-4dDE89rF.js";import"./x-DKHbTQP4.js";import"./skeleton-DoNK-JLI.js";import"./theme-provider-CDPnR1Q7.js";import"./index-DdSaT3RW.js";import"./index-B9CxhUDl.js";import"./index-Bg91X3Or.js";import"./chevron-right-Bw-z9g81.js";import"./dropdown-menu-Bd8bW4D7.js";import"./index-C-ccYaG7.js";import"./index-Bu8ztg0z.js";import"./check-D2eDAsCq.js";import"./ellipsis-vertical-DKSRXQO1.js";import"./index-Bd4caDOX.js";import"./select-sxZivN0J.js";import"./index-BdQq_4o_.js";import"./index-DjxcojDu.js";import"./chevron-down-2wVDYisT.js";import"./chevron-up-a-lPM2VT.js";import"./loader-circle-tCJTFKQD.js";function ga({alert:p,kelases:u,mapels:d,user:r}){j(p);const[c,l]=i.useState(!1),e=h({username:"",password:"",role:"",nama_guru:"",alamat:"",no_telp:"",kelas:[],mapels:[]}),g=t=>{t.preventDefault(),e.put(route("user.update",r.id))};return i.useEffect(()=>{r&&(e.setData("username",r.username),e.setData("role",r.role),l(r.role==="guru"),r.kelas&&e.setData("kelas",r.kelas.map(t=>t.id.toString())),r.mata_pelajarans&&e.setData("mapels",r.mata_pelajarans.map(t=>t.id.toString())),r.profile_guru&&(e.setData("nama_guru",r.profile_guru.nama_guru),e.setData("alamat",r.profile_guru.alamat),e.setData("no_telp",r.profile_guru.no_telp)))},[r]),a.jsxs(v,{title:"Update Pengguna",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Update Data Pengguna"}),a.jsxs(m,{type:"button",variant:"secondary",onClick:()=>f.get(route("user.index")),children:[a.jsx(N,{}),"Kembali"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("form",{onSubmit:g,children:a.jsxs(b,{children:[a.jsxs(k,{className:"space-y-4 mt-3",children:[a.jsx(s,{label:"Username",placeholder:"Masukan Username pengguna",value:e.data.username,onChange:t=>e.setData("username",t.target.value),error:e.errors.username}),a.jsx(s,{label:"Password",placeholder:"Biarkan kosong jika tidak ingin merubah password!",value:e.data.password,onChange:t=>e.setData("password",t.target.value),rightcontent:a.jsx(m,{size:"icon",type:"button",variant:"outline",onClick:()=>e.setData("password",x(6)),children:a.jsx(S,{})})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Role"}),a.jsx(n,{options:[{label:"Super Admin",value:"super-admin"},{label:"Guru",value:"guru"},{label:"BK",value:"bk"}],value:e.data.role,onChange:t=>{e.setData("role",t),l(t==="guru")},searchable:!1})]}),a.jsx(s,{label:"Nama Lengkap",value:e.data.nama_guru,placeholder:"Masukan Nama Lengkap",onChange:t=>e.setData("nama_guru",t.target.value)}),a.jsx(s,{label:"No Handphone",value:e.data.no_telp,type:"tel",placeholder:"Masukan No Handphone",onChange:t=>e.setData("no_telp",t.target.value)}),a.jsxs("div",{children:[a.jsx(o,{className:"mb-2",children:"Alamat Lengkap"}),a.jsx(C,{placeholder:"Nama Lengkap",defaultValue:e.data.alamat,onChange:t=>e.setData("alamat",t.target.value)})]}),c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Pilih Kelas Yang Akan Di Ampu"}),a.jsx(n,{options:u??[],value:e.data.kelas,onChange:t=>{e.setData("kelas",t)},multiple:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Pilih Mata Pelajaran Yang Akan Di Ampu"}),a.jsx(n,{options:d??[],value:e.data.mapels,onChange:t=>{e.setData("mapels",t)},multiple:!0})]})]})]}),a.jsx(D,{className:"flex justify-end",children:a.jsx(_,{label:"Submit",variant:"default",loading:e.processing,type:"submit",righticon:a.jsx(y,{})})})]})})})]})}export{ga as default};
