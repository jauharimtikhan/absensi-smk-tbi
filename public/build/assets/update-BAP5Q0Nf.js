import{r as i,v as h,j as a,m as f}from"./app-C9tQhv_Z.js";import{B as m,j as x}from"./button-CJTtMwL8.js";import{u as j}from"./useToast-Cw97dzwI.js";import{A as v}from"./AuthenticatedLayout-ChHh_5dT.js";import{C as b,c as k,e as D}from"./card-DShkTWeU.js";import{I as s}from"./InputForm-BMO2itvC.js";import{L as o}from"./label-BaBTBNjW.js";import{S as n}from"./select2-Ilo9BMIQ.js";import{B as _}from"./button-form-CWe0OB07.js";import{T as C}from"./textarea-CI3UGb_X.js";import{A as N}from"./arrow-left-CuaMkH-P.js";import{S}from"./settings-xw4dLDoZ.js";import{S as y}from"./send-horizontal-BCNo4Gb6.js";import"./input-C6ZwSnPh.js";import"./separator-DZph8esR.js";import"./index-CQA42a1l.js";import"./index-SJC72_OY.js";import"./index-DFBKEqHs.js";import"./index-CwGbMlpu.js";import"./Combination-BC-g0I6C.js";import"./index-DRMvO1dW.js";import"./x-C1UzyEuZ.js";import"./skeleton-CbZi3YVn.js";import"./theme-provider-B-DTGj4I.js";import"./index-BTkG7Wq1.js";import"./index-af218OiE.js";import"./index-lqNe-Rya.js";import"./chevron-right-CNF1v_CZ.js";import"./dropdown-menu-Byz9-lBz.js";import"./index-C5g0trgJ.js";import"./index-DiYJPi1s.js";import"./check-BZ89noGP.js";import"./ellipsis-vertical-B6lyN1bf.js";import"./index-bfOGIxVS.js";import"./select-ObIq_07B.js";import"./index-BdQq_4o_.js";import"./index-DV3kUubK.js";import"./chevron-down-DThK4zKl.js";import"./chevron-up-DrQ2uUfL.js";import"./loader-circle-CVDOjECe.js";function ga({alert:p,kelases:u,mapels:d,user:r}){j(p);const[c,l]=i.useState(!1),e=h({username:"",password:"",role:"",nama_guru:"",alamat:"",no_telp:"",kelas:[],mapels:[]}),g=t=>{t.preventDefault(),e.put(route("user.update",r.id))};return i.useEffect(()=>{r&&(e.setData("username",r.username),e.setData("role",r.role),l(r.role==="guru"),r.kelas&&e.setData("kelas",r.kelas.map(t=>t.id.toString())),r.mata_pelajarans&&e.setData("mapels",r.mata_pelajarans.map(t=>t.id.toString())),r.profile_guru&&(e.setData("nama_guru",r.profile_guru.nama_guru),e.setData("alamat",r.profile_guru.alamat),e.setData("no_telp",r.profile_guru.no_telp)))},[r]),a.jsxs(v,{title:"Update Pengguna",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Update Data Pengguna"}),a.jsxs(m,{type:"button",variant:"secondary",onClick:()=>f.get(route("user.index")),children:[a.jsx(N,{}),"Kembali"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("form",{onSubmit:g,children:a.jsxs(b,{children:[a.jsxs(k,{className:"space-y-4 mt-3",children:[a.jsx(s,{label:"Username",placeholder:"Masukan Username pengguna",value:e.data.username,onChange:t=>e.setData("username",t.target.value),error:e.errors.username}),a.jsx(s,{label:"Password",placeholder:"Biarkan kosong jika tidak ingin merubah password!",value:e.data.password,onChange:t=>e.setData("password",t.target.value),rightcontent:a.jsx(m,{size:"icon",type:"button",variant:"outline",onClick:()=>e.setData("password",x(6)),children:a.jsx(S,{})})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Role"}),a.jsx(n,{options:[{label:"Super Admin",value:"super-admin"},{label:"Guru",value:"guru"},{label:"BK",value:"bk"}],value:e.data.role,onChange:t=>{e.setData("role",t),l(t==="guru")},searchable:!1})]}),a.jsx(s,{label:"Nama Lengkap",value:e.data.nama_guru,placeholder:"Masukan Nama Lengkap",onChange:t=>e.setData("nama_guru",t.target.value)}),a.jsx(s,{label:"No Handphone",value:e.data.no_telp,type:"tel",placeholder:"Masukan No Handphone",onChange:t=>e.setData("no_telp",t.target.value)}),a.jsxs("div",{children:[a.jsx(o,{className:"mb-2",children:"Alamat Lengkap"}),a.jsx(C,{placeholder:"Nama Lengkap",defaultValue:e.data.alamat,onChange:t=>e.setData("alamat",t.target.value)})]}),c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Pilih Kelas Yang Akan Di Ampu"}),a.jsx(n,{options:u??[],value:e.data.kelas,onChange:t=>{e.setData("kelas",t)},multiple:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(o,{htmlFor:"role",children:"Pilih Mata Pelajaran Yang Akan Di Ampu"}),a.jsx(n,{options:d??[],value:e.data.mapels,onChange:t=>{e.setData("mapels",t)},multiple:!0})]})]})]}),a.jsx(D,{className:"flex justify-end",children:a.jsx(_,{label:"Submit",variant:"default",loading:e.processing,type:"submit",righticon:a.jsx(y,{})})})]})})})]})}export{ga as default};
