import{r as s,j as i}from"./app-dtuUTQPg.js";import{T as fe,a as me,b as be,c as pe}from"./tabs-Do9V0UZG.js";import{C as F,a as K,b as $,c as q}from"./card-BA0s0Gic.js";import{c as Se,P as j,a as P,b as ve}from"./index-ChTBRd0w.js";import{P as z}from"./index-DRbEqTca.js";import{u as T,c as Q}from"./button-DPsmANRN.js";import{u as C}from"./index-BNtFQH6V.js";import{u as we}from"./index-DG6lS1av.js";import{c as ge}from"./index-BdQq_4o_.js";import xe from"./KelasTabContent-DiNuzURr.js";import"./index-BWkP8tIP.js";import"./separator-CjGCVm4I.js";import"./button-form-Bq4WgXJU.js";import"./loader-circle-DUNaWJrS.js";import"./checkbox-D_x_zbJ3.js";import"./index-BO5XnkvU.js";import"./index-D3ZdPiCk.js";import"./check-CwIqQT0W.js";function Ce(e,t){return s.useReducer((r,l)=>t[r][l]??r,e)}var U="ScrollArea",[Z,er]=Se(U),[Pe,v]=Z(U),G=s.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:l="hover",dir:o,scrollHideDelay:n=600,...c}=e,[a,d]=s.useState(null),[f,u]=s.useState(null),[m,h]=s.useState(null),[b,S]=s.useState(null),[y,X]=s.useState(null),[x,L]=s.useState(0),[Y,_]=s.useState(0),[D,A]=s.useState(!1),[N,H]=s.useState(!1),p=T(t,E=>d(E)),w=we(o);return i.jsx(Pe,{scope:r,type:l,dir:w,scrollHideDelay:n,scrollArea:a,viewport:f,onViewportChange:u,content:m,onContentChange:h,scrollbarX:b,onScrollbarXChange:S,scrollbarXEnabled:D,onScrollbarXEnabledChange:A,scrollbarY:y,onScrollbarYChange:X,scrollbarYEnabled:N,onScrollbarYEnabledChange:H,onCornerWidthChange:L,onCornerHeightChange:_,children:i.jsx(j.div,{dir:w,...c,ref:p,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":Y+"px",...e.style}})})});G.displayName=U;var ee="ScrollAreaViewport",re=s.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:l,nonce:o,...n}=e,c=v(ee,r),a=s.useRef(null),d=T(t,a,c.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(j.div,{"data-radix-scroll-area-viewport":"",...n,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});re.displayName=ee;var g="ScrollAreaScrollbar",V=s.forwardRef((e,t)=>{const{forceMount:r,...l}=e,o=v(g,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:c}=o,a=e.orientation==="horizontal";return s.useEffect(()=>(a?n(!0):c(!0),()=>{a?n(!1):c(!1)}),[a,n,c]),o.type==="hover"?i.jsx(Ee,{...l,ref:t,forceMount:r}):o.type==="scroll"?i.jsx(Re,{...l,ref:t,forceMount:r}):o.type==="auto"?i.jsx(oe,{...l,ref:t,forceMount:r}):o.type==="always"?i.jsx(B,{...l,ref:t}):null});V.displayName=g;var Ee=s.forwardRef((e,t)=>{const{forceMount:r,...l}=e,o=v(g,e.__scopeScrollArea),[n,c]=s.useState(!1);return s.useEffect(()=>{const a=o.scrollArea;let d=0;if(a){const f=()=>{window.clearTimeout(d),c(!0)},u=()=>{d=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),i.jsx(z,{present:r||n,children:i.jsx(oe,{"data-state":n?"visible":"hidden",...l,ref:t})})}),Re=s.forwardRef((e,t)=>{const{forceMount:r,...l}=e,o=v(g,e.__scopeScrollArea),n=e.orientation==="horizontal",c=M(()=>d("SCROLL_END"),100),[a,d]=Ce("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return s.useEffect(()=>{if(a==="idle"){const f=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[a,o.scrollHideDelay,d]),s.useEffect(()=>{const f=o.viewport,u=n?"scrollLeft":"scrollTop";if(f){let m=f[u];const h=()=>{const b=f[u];m!==b&&(d("SCROLL"),c()),m=b};return f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,n,d,c]),i.jsx(z,{present:r||a!=="hidden",children:i.jsx(B,{"data-state":a==="hidden"?"hidden":"visible",...l,ref:t,onPointerEnter:P(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:P(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),oe=s.forwardRef((e,t)=>{const r=v(g,e.__scopeScrollArea),{forceMount:l,...o}=e,[n,c]=s.useState(!1),a=e.orientation==="horizontal",d=M(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;c(a?f:u)}},10);return R(r.viewport,d),R(r.content,d),i.jsx(z,{present:l||n,children:i.jsx(B,{"data-state":n?"visible":"hidden",...o,ref:t})})}),B=s.forwardRef((e,t)=>{const{orientation:r="vertical",...l}=e,o=v(g,e.__scopeScrollArea),n=s.useRef(null),c=s.useRef(0),[a,d]=s.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=ce(a.viewport,a.content),u={...l,sizes:a,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:h=>n.current=h,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:h=>c.current=h};function m(h,b){return _e(h,c.current,a,b)}return r==="horizontal"?i.jsx(Te,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&n.current){const h=o.viewport.scrollLeft,b=J(h,a,o.dir);n.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=m(h,o.dir))}}):r==="vertical"?i.jsx(ye,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&n.current){const h=o.viewport.scrollTop,b=J(h,a);n.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=m(h))}}):null}),Te=s.forwardRef((e,t)=>{const{sizes:r,onSizesChange:l,...o}=e,n=v(g,e.__scopeScrollArea),[c,a]=s.useState(),d=s.useRef(null),f=T(t,d,n.onScrollbarXChange);return s.useEffect(()=>{d.current&&a(getComputedStyle(d.current))},[d]),i.jsx(ne,{"data-orientation":"horizontal",...o,ref:f,sizes:r,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":I(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(n.viewport){const h=n.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),ie(h,m)&&u.preventDefault()}},onResize:()=>{d.current&&n.viewport&&c&&l({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:O(c.paddingLeft),paddingEnd:O(c.paddingRight)}})}})}),ye=s.forwardRef((e,t)=>{const{sizes:r,onSizesChange:l,...o}=e,n=v(g,e.__scopeScrollArea),[c,a]=s.useState(),d=s.useRef(null),f=T(t,d,n.onScrollbarYChange);return s.useEffect(()=>{d.current&&a(getComputedStyle(d.current))},[d]),i.jsx(ne,{"data-orientation":"vertical",...o,ref:f,sizes:r,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":I(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(n.viewport){const h=n.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),ie(h,m)&&u.preventDefault()}},onResize:()=>{d.current&&n.viewport&&c&&l({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:O(c.paddingTop),paddingEnd:O(c.paddingBottom)}})}})}),[Ae,te]=Z(g),ne=s.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:l,hasThumb:o,onThumbChange:n,onThumbPointerUp:c,onThumbPointerDown:a,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:u,onResize:m,...h}=e,b=v(g,r),[S,y]=s.useState(null),X=T(t,p=>y(p)),x=s.useRef(null),L=s.useRef(""),Y=b.viewport,_=l.content-l.viewport,D=C(u),A=C(d),N=M(m,10);function H(p){if(x.current){const w=p.clientX-x.current.left,E=p.clientY-x.current.top;f({x:w,y:E})}}return s.useEffect(()=>{const p=w=>{const E=w.target;(S==null?void 0:S.contains(E))&&D(w,_)};return document.addEventListener("wheel",p,{passive:!1}),()=>document.removeEventListener("wheel",p,{passive:!1})},[Y,S,_,D]),s.useEffect(A,[l,A]),R(S,N),R(b.content,N),i.jsx(Ae,{scope:r,scrollbar:S,hasThumb:o,onThumbChange:C(n),onThumbPointerUp:C(c),onThumbPositionChange:A,onThumbPointerDown:C(a),children:i.jsx(j.div,{...h,ref:X,style:{position:"absolute",...h.style},onPointerDown:P(e.onPointerDown,p=>{p.button===0&&(p.target.setPointerCapture(p.pointerId),x.current=S.getBoundingClientRect(),L.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),H(p))}),onPointerMove:P(e.onPointerMove,H),onPointerUp:P(e.onPointerUp,p=>{const w=p.target;w.hasPointerCapture(p.pointerId)&&w.releasePointerCapture(p.pointerId),document.body.style.webkitUserSelect=L.current,b.viewport&&(b.viewport.style.scrollBehavior=""),x.current=null})})})}),W="ScrollAreaThumb",le=s.forwardRef((e,t)=>{const{forceMount:r,...l}=e,o=te(W,e.__scopeScrollArea);return i.jsx(z,{present:r||o.hasThumb,children:i.jsx(je,{ref:t,...l})})}),je=s.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:l,...o}=e,n=v(W,r),c=te(W,r),{onThumbPositionChange:a}=c,d=T(t,m=>c.onThumbChange(m)),f=s.useRef(void 0),u=M(()=>{f.current&&(f.current(),f.current=void 0)},100);return s.useEffect(()=>{const m=n.viewport;if(m){const h=()=>{if(u(),!f.current){const b=De(m,a);f.current=b,a()}};return a(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,u,a]),i.jsx(j.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:P(e.onPointerDownCapture,m=>{const b=m.target.getBoundingClientRect(),S=m.clientX-b.left,y=m.clientY-b.top;c.onThumbPointerDown({x:S,y})}),onPointerUp:P(e.onPointerUp,c.onThumbPointerUp)})});le.displayName=W;var k="ScrollAreaCorner",se=s.forwardRef((e,t)=>{const r=v(k,e.__scopeScrollArea),l=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&l?i.jsx(Le,{...e,ref:t}):null});se.displayName=k;var Le=s.forwardRef((e,t)=>{const{__scopeScrollArea:r,...l}=e,o=v(k,r),[n,c]=s.useState(0),[a,d]=s.useState(0),f=!!(n&&a);return R(o.scrollbarX,()=>{var m;const u=((m=o.scrollbarX)==null?void 0:m.offsetHeight)||0;o.onCornerHeightChange(u),d(u)}),R(o.scrollbarY,()=>{var m;const u=((m=o.scrollbarY)==null?void 0:m.offsetWidth)||0;o.onCornerWidthChange(u),c(u)}),f?i.jsx(j.div,{...l,ref:t,style:{width:n,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function O(e){return e?parseInt(e,10):0}function ce(e,t){const r=e/t;return isNaN(r)?0:r}function I(e){const t=ce(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=(e.scrollbar.size-r)*t;return Math.max(l,18)}function _e(e,t,r,l="ltr"){const o=I(r),n=o/2,c=t||n,a=o-c,d=r.scrollbar.paddingStart+c,f=r.scrollbar.size-r.scrollbar.paddingEnd-a,u=r.content-r.viewport,m=l==="ltr"?[0,u]:[u*-1,0];return ae([d,f],m)(e)}function J(e,t,r="ltr"){const l=I(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-o,c=t.content-t.viewport,a=n-l,d=r==="ltr"?[0,c]:[c*-1,0],f=ge(e,d);return ae([0,c],[0,a])(f)}function ae(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const l=(t[1]-t[0])/(e[1]-e[0]);return t[0]+l*(r-e[0])}}function ie(e,t){return e>0&&e<t}var De=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},l=0;return function o(){const n={left:e.scrollLeft,top:e.scrollTop},c=r.left!==n.left,a=r.top!==n.top;(c||a)&&t(),r=n,l=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(l)};function M(e,t){const r=C(e),l=s.useRef(0);return s.useEffect(()=>()=>window.clearTimeout(l.current),[]),s.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(r,t)},[r,t])}function R(e,t){const r=C(t);ve(()=>{let l=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(l),l=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(l),o.unobserve(e)}}},[e,r])}var de=G,Ne=re,He=se;const ue=s.forwardRef(({className:e,children:t,...r},l)=>i.jsxs(de,{ref:l,className:Q("relative overflow-hidden",e),...r,children:[i.jsx(Ne,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(he,{}),i.jsx(He,{})]}));ue.displayName=de.displayName;const he=s.forwardRef(({className:e,orientation:t="vertical",...r},l)=>i.jsx(V,{ref:l,orientation:t,className:Q("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(le,{className:"relative flex-1 rounded-full bg-border"})}));he.displayName=V.displayName;function rr({siswaGrouped:e,attachedSiswa:t,onAttachDetach:r,onDetachAllInKelas:l}){const o=s.useMemo(()=>{const n=new Set;return Object.values(e).forEach(c=>{Object.keys(c).forEach(a=>n.add(a))}),Array.from(n)},[e]);return o.length===0?i.jsxs(F,{children:[i.jsx(K,{children:i.jsx($,{children:"Kelola Siswa"})}),i.jsx(q,{children:i.jsx("p",{className:"text-center text-muted-foreground py-6",children:"Tidak ada data siswa yang ditemukan"})})]}):i.jsxs(F,{children:[i.jsx(K,{children:i.jsx($,{children:"Kelola Siswa"})}),i.jsx(q,{children:i.jsxs(fe,{defaultValue:o[0],className:"space-y-4",children:[i.jsx(me,{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:o.map(n=>i.jsx(be,{value:n,children:n},n))}),o.map(n=>i.jsx(pe,{value:n,children:i.jsx(ue,{className:"h-[300px]",children:Object.entries(e).map(([c,a])=>{const d=parseInt(c,10);return a[n]&&i.jsx(xe,{mapelId:d,kelas:n,kelasGroup:a[n],attachedSiswa:t,onAttachDetach:r,onDetachAllInKelas:l},c)})})},n))]})})]})}export{rr as default};
