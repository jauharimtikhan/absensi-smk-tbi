import{r as o,v as f,V as b,j as a,m as v}from"./app-D-pvG-h7.js";import{a as x,B as u,j as y,k}from"./button-DDrB44aA.js";import{u as C}from"./useToast-CczIibfT.js";import{A as w}from"./AuthenticatedLayout-WKkpFzN6.js";import{C as N,c as S,e as D}from"./card-PWHeHM1M.js";import{I as l}from"./InputForm-DW44Byix.js";import{L as h}from"./label-B855B3UW.js";import{S as g}from"./select2-CLGfsiw0.js";import{B as _}from"./button-form-DPrc8m5f.js";import{b as A,c as P,d as T}from"./theme-provider-CJsZ6qwK.js";import{A as F}from"./arrow-left-CaKg1H8K.js";import{S as B}from"./settings-Cb35TO4U.js";import{S as I}from"./send-horizontal-gLn-0zvu.js";import"./input-BqtjLy8Q.js";import"./separator-jC85Eame.js";import"./index-BCDtQqrj.js";import"./index-DfVJz2yI.js";import"./index-DPWi2SFl.js";import"./index-B_qB3y_n.js";import"./Combination-DkhTlgzF.js";import"./index-CbbB-d8s.js";import"./x-CbMpTP9X.js";import"./skeleton-ChprEDY9.js";import"./chevron-right-CvAe3Q1P.js";import"./dropdown-menu-BYgId_-S.js";import"./index-C4kcJLGa.js";import"./index-Cv54-QBM.js";import"./index-pc8TUt6X.js";import"./index-BsxPpjHb.js";import"./check-Dl2Q0njl.js";import"./ellipsis-vertical-Df7DsWCi.js";import"./index-DB_nWd7P.js";import"./select-DeUrfpU1.js";import"./index-BdQq_4o_.js";import"./index-DV9RjSlp.js";import"./index-j9pfCE30.js";import"./chevron-down-DT_wD1pv.js";import"./chevron-up-DDtDRMKX.js";import"./loader-circle-DcNhUuUm.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],M=x("clipboard-check",L);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],E=x("clipboard",G);function H(){const[i,t]=o.useState(!1),[p,n]=o.useState(null);return{copy:o.useCallback(async d=>{try{await navigator.clipboard.writeText(d),t(!0),n(null),setTimeout(()=>t(!1),2e3)}catch(s){t(!1),n((s==null?void 0:s.message)||"Gagal menyalin ke clipboard")}},[]),isCopied:i,error:p}}function Na({alert:i,kelases:t,mapels:p}){C(i);const[n,m]=o.useState(!1),{copy:d,isCopied:s,error:c}=H(),e=f({username:"",password:"",role:"",kelas:[],mapels:[],nama_lengkap:"",no_telp:""}),j=r=>{r.preventDefault(),e.post(route("user.store"))};return o.useEffect(()=>{c&&b.error(c)},[c]),a.jsxs(w,{title:"Tambah Pengguna",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Tambah Data Pengguna"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(u,{className:"flex flex-1",type:"button",variant:"secondary",onClick:()=>v.get(route("user.index")),children:[a.jsx(F,{}),"Kembali"]}),a.jsxs(A,{children:[a.jsx(P,{asChild:!0,children:a.jsx(u,{onClick:()=>{const r=`username: ${e.data.username}
password: ${e.data.password}
role: ${e.data.role}`;d(r)},type:"button",variant:"outline",children:s?a.jsx(M,{}):a.jsx(E,{})})}),a.jsx(T,{children:a.jsx("p",{children:"Salin Data Pengguna"})})]})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("form",{onSubmit:j,children:a.jsxs(N,{children:[a.jsxs(S,{className:"space-y-4 mt-3",children:[a.jsx(l,{label:"Username",placeholder:"Masukan Username pengguna",value:e.data.username,onChange:r=>e.setData("username",r.target.value),error:e.errors.username}),a.jsx(l,{label:"Password",placeholder:"Buat / Generate random password",value:e.data.password,onChange:r=>e.setData("password",r.target.value),rightcontent:a.jsx(u,{size:"icon",type:"button",variant:"outline",onClick:()=>e.setData("password",y(6)),children:a.jsx(B,{})}),error:e.errors.password}),a.jsx(l,{label:"Nama Lengkap",placeholder:"Masukan nama lengkap",value:e.data.nama_lengkap,onChange:r=>e.setData("nama_lengkap",r.target.value),error:e.errors.nama_lengkap}),a.jsx(l,{label:"No. Handphone/Whatsapp",placeholder:"Masukan no wa/handphone",value:e.data.no_telp,onChange:r=>e.setData("no_telp",k(r.target.value)),type:"tel"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(h,{htmlFor:"role",children:"Role"}),a.jsx(g,{options:[{label:"Super Admin",value:"super-admin"},{label:"Guru",value:"guru"},{label:"BK",value:"bk"}],value:e.data.role,onChange:r=>{e.setData("role",r),m(r==="guru")},searchable:!1})]}),n&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(h,{htmlFor:"role",children:"Pilih Kelas Yang Akan Di Ampu"}),a.jsx(g,{options:t??[],value:e.data.kelas,onChange:r=>{e.setData("kelas",r)},multiple:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(h,{htmlFor:"role",children:"Pilih Mata Pelajaran Yang Akan Di Ampu"}),a.jsx(g,{options:p??[],value:e.data.mapels,onChange:r=>{e.setData("mapels",r)},multiple:!0})]})]})]}),a.jsx(D,{className:"flex justify-end",children:a.jsx(_,{label:"Submit",variant:"default",loading:e.processing,type:"submit",righticon:a.jsx(I,{})})})]})})})]})}export{Na as default};
