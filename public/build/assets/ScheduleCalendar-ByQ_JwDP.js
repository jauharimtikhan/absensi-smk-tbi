import{r as v,j as e}from"./app-Be7wcuig.js";import{C as N}from"./calendar-CsClBPnW.js";import{C as x,a as j,b as p,c as u}from"./card-Cwodzru-.js";import{i as o,P as w,a as C,b as y}from"./popover-BSy247Zn.js";import{B as t}from"./button-D21nJUxp.js";import{C as E}from"./chevron-left-CJI9V-Tq.js";import{C as M}from"./chevron-right-YNqigzbs.js";import{p as f,S as _}from"./parseISO-DeusdMtQ.js";import{E as b}from"./ellipsis-vertical-DKfn1mXT.js";import{f as i}from"./format-BLGyKstx.js";import"./chevron-down-Dy_RuLg-.js";import"./index-WTp1D-hs.js";import"./index-BFTRfg0n.js";import"./index-BurpsiO2.js";import"./Combination-CtllgFTn.js";import"./index-DqMWcGP6.js";import"./index-DB97RmjF.js";import"./index-D5mnyflg.js";const G=({schedules:m,onEdit:g})=>{console.log(m);const[l,n]=v.useState(new Date),d=a=>{let s=i(a,"EEEE",{locale:o}).toLowerCase();return m.filter(r=>(r.hari.toLowerCase()==="ahad"?"minggu":r.hari.toLowerCase())===s)},c=d(l);return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(x,{children:[e.jsxs(j,{className:"flex-row items-center justify-between",children:[e.jsx(p,{className:"text-lg",children:i(l,"MMMM yyyy",{locale:o})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:"outline",size:"icon",onClick:()=>n(a=>{const s=new Date(a);return s.setMonth(s.getMonth()-1),s}),children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(t,{variant:"outline",onClick:()=>n(new Date),children:"Hari Ini"}),e.jsx(t,{variant:"outline",size:"icon",onClick:()=>n(a=>{const s=new Date(a);return s.setMonth(s.getMonth()+1),s}),children:e.jsx(M,{className:"h-4 w-4"})})]})]}),e.jsx(u,{children:e.jsx(N,{mode:"single",selected:l,onSelect:a=>a&&n(a),className:"rounded-md border",modifiers:{hasSchedules:a=>d(a).length>0},modifiersClassNames:{hasSchedules:"relative after:absolute after:bottom-1 after:left-1/2 after:-translate-x-1/2 after:w-1 after:h-1 after:rounded-full after:bg-primary"},locale:o})})]})}),e.jsx("div",{children:e.jsxs(x,{children:[e.jsx(j,{children:e.jsxs(p,{children:["Jadwal"," ",i(l,"EEEE, d MMMM yyyy",{locale:o})]})}),e.jsx(u,{children:c.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada jadwal untuk hari ini"}):e.jsx("div",{className:"space-y-4",children:c.map(a=>{var s,r;return e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[a.mata_pelajarans.nama_mapel,e.jsxs("span",{className:"text-muted-foreground text-sm ml-2",children:["(",a.mata_pelajarans.kode_mapel,")"]})]}),e.jsxs("div",{className:"text-sm mt-1",children:[i(f(`1970-01-01T${a.jam_mulai}`),"HH:mm")," ","-",i(f(`1970-01-01T${a.jam_selesai}`),"HH:mm")]}),e.jsx("div",{className:"text-sm mt-1",children:a.kelas.nama_kelas})]}),e.jsxs(w,{children:[e.jsx(C,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",children:e.jsx(b,{className:"h-4 w-4"})})}),e.jsx(y,{className:"w-48 p-2",children:e.jsxs(t,{variant:"ghost",className:"w-full justify-start",onClick:()=>g(a),children:[e.jsx(_,{className:"mr-2 h-4 w-4"})," ","Edit"]})})]})]}),e.jsxs("div",{className:"mt-3 flex items-center",children:[e.jsx("div",{className:"bg-gray-100 rounded-full w-8 h-8 flex items-center justify-center text-sm",children:(s=a.guru.profile_guru)==null?void 0:s.nama_guru.split(" ").map(h=>h[0]).join("")}),e.jsx("div",{className:"ml-2 text-sm",children:(r=a.guru.profile_guru)==null?void 0:r.nama_guru})]})]},a.id)})})})]})})]})};export{G as default};
